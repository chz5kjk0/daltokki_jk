<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.springframework.org/security/tags">
<head>
    <meta charset="UTF-8">
    <title>달토끼</title>
    <link rel="stylesheet" href="css/style.css">
    <script type="text/javascript" src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.3.js" charset="utf-8"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>달토끼</h1>
        <div class="image-container">
        <img src="/img/daltokki2.png" width="250" height="250"></div>
        <!-- 로그인 및 회원가입 시작 -->
        <button sec:authorize="isAnonymous()" onclick="location.href='login'" class="btn-hover color-3">달토끼 로그인</button>
        <button sec:authorize="isAuthenticated()" onclick="location.href='logout'" class="btn-hover color-3">로그아웃</button>
        <button sec:authorize="isAnonymous()" onclick="location.href='join'" class="btn-hover color-3">회원가입</button>
        <!-- 네이버아이디로로그인 버튼 노출 영역 -->
        <div id="naver_id_login"></div>
        <button sec:authorize="isAnonymous()" onclick="location.href='/oauth2/authorization/kakao'" class="btn-hover color-3">카카오 로그인</button>
        <button sec:authorize="isAnonymous()" onclick="location.href='/oauth2/authorization/google'" class="btn-hover color-3">Google (테스트)</button>
        <button sec:authorize="isAnonymous()" onclick="location.href='https://accounts.google.com/o/oauth2/v2/auth?scope=https%3A//www.googleapis.com/auth/drive.metadata.readonly&access_type=offline&include_granted_scopes=true&response_type=code&state=state_parameter_passthrough_value&redirect_uri=http://localhost:8080/login/oauth2/code/google&client_id=915921592597-00dhkg1tfbu2imhqst4mpolrj3tjer8h.apps.googleusercontent.com'" class="btn-hover color-3">
            Google (이걸로 테스트 한번만 해주세용)</button>
<!--        code 파라미터 X-->
        <button sec:authorize="isAnonymous()" onclick="location.href='/login/oauth2/code/google'" class="btn-hover color-3">Google (테스트3)</button>
        <!-- 로그인 및 회원가입 끝 -->
        <button id="naverLoginBtn" class="btn-hover color-3">(test) profile response</button>
    </div>

<style>
    * {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    }

    .image-container {
        padding: 20px;
      }
</style>

    <!-- 네아로 -->
    <script type="text/javascript">
      var naver_id_login = new naver_id_login("vmZ60MBkDiJfUnPtrRxQ", "http://localhost:8080/oauth/login");
      var state = naver_id_login.getUniqState();
      naver_id_login.setButton("white", 2,40);
      naver_id_login.setDomain("http://localhost:8080/login");
      naver_id_login.setState(state);
      naver_id_login.setPopup();
      naver_id_login.init_naver_id_login();
    </script>

    <!-- (test) profile response -->
    <script type="text/javascript">
        document.getElementById("naverLoginBtn").addEventListener("click", function() {
            // Naver OAuth 인증 URL
            var authUrl = "https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=vmZ60MBkDiJfUnPtrRxQ&state=state&redirect_uri=http://localhost:8080/oauth/login";

            // 현재 창에서 해당 URL로 리다이렉트
            window.location.href = authUrl;
        });
    </script>
</body>
</html>